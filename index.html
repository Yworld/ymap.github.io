<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
  <head>
    <title>Карта ЮМира > Beta</title>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
	<meta property="og:title" content="Карта ЮМира">
	<meta property="og:description" content="Карта ЮМира. Только актуальные границы! Обновляется КАООН.">
	<meta property="og:image" content="https://i.imgur.com/N86I981.png">
	<script src="js/head.load.min.js"></script>
	<script src="http://maps.google.com/maps/api/js?v=3.2&sensor=false"></script>
    <script>
    head.load("https://yastatic.net/jquery/2.1.4/jquery.min.js", "http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.css", "http://cdn.leafletjs.com/leaflet-0.7.5/leaflet.js", "js/leaflet.ajax.min.js", "js/googlemaps.js", function() {
var map = new L.Map('map', {center: new L.LatLng(53.9618, 58.4277), zoom: 1});
var ggl = new L.Google('ROADMAP', {
	mapOptions: {
		styles: [{"featureType":"administrative.country","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"administrative.province","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"administrative.locality","elementType":"all","stylers":[{"visibility":"on"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"poi.medical","elementType":"all","stylers":[{"visibility":"on"}]},{"featureType":"poi.government","elementType":"all","stylers":[{"visibility":"on"}]},{"featureType":"poi.park","elementType":"all","stylers":[{"visibility":"on"}]},{"featureType":"poi.place_of_worship","elementType":"all","stylers":[{"visibility":"on"}]},{"featureType":"poi.school","elementType":"all","stylers":[{"visibility":"on"}]},{"featureType":"poi.school","elementType":"all","stylers":[{"visibility":"on"}]},{"featureType":"poi.sports_complex","elementType":"all","stylers":[{"visibility":"on"}]},{"featureType":"poi.attraction","elementType":"all","stylers":[{"visibility":"on"}]},{"featureType":"transit.station.rail","elementType":"all","stylers":[{"visibility":"on"},{"gamma":3.17}]}]
	}
});
map.addLayer(ggl);

// GeoJSON compiled
var nullGeoJSON = [];
var myStyle = {
    "weight": 1.1,
    "fillOpacity": 0,
    "opacity": 1,
    "color": "black",
    "clickable": false
};
var boundaries = new L.geoJson(nullGeoJSON, {
    style: myStyle
});
boundaries.addTo(map);

$.ajax({
dataType: "json",
url: "http://карта.юмир.рф/compiled.json",
success: function(data) {
    $(data.features).each(function(key, data) {
        boundaries.addData(data);
    });
}
}).error(function() {});

// Markers
/* Library of flags */
var USflag = L.icon({iconUrl: 'https://i.imgur.com/MoDY6eP.png'});
var UKRflag = L.icon({iconUrl: 'https://i.imgur.com/BoTGRNC.png'});
var SEflag = L.icon({iconUrl: 'https://i.imgur.com/SFBM2gG.png'});
var CAflag = L.icon({iconUrl: 'http://i.imgur.com/nw3ZVEH.png'});
var LEflag = L.icon({iconUrl: 'https://i.imgur.com/jqG2AVN.png'});
var UFflag = L.icon({iconUrl: 'https://i.imgur.com/9Ow6bJC.png'});
var RUflag = L.icon({iconUrl: 'http://i.imgur.com/f0nviTQ.png'});

$.getJSON("countries-markers.json", function(json1) {
    for (var i = 0, length = json1.length; i < length; i++) {
        var data = json1[i],
            latLng = new google.maps.LatLng(data.lat, data.lng);
        // Creating a marker and putting it on the map
		L.marker([data.lat, data.lng], {icon: data.icon}).addTo(map).bindPopup(data.country);
    }
});

});
    </script>
    <style>
        html, body, #map {
        height: 100%;
        margin: 0px;
        padding: 0px;
        font-family: Arial, sans-serif;
      }
    </style>
  </head>
  <body>
<div id="map">
</div>
     </body>
</html>